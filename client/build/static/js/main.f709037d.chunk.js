(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,a){e.exports=a(354)},178:function(e,t,a){},322:function(e,t){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),c=a.n(r),m=(a(178),a(179),a(364)),i=a(25),l=function(){var e=function(e){Object(i.b)(e)};return s.a.createElement("div",{className:"pick-one"},s.a.createElement(m.a,{as:"h2",className:"pick-header"},"Pick your side!"),s.a.createElement("button",{className:"part one",tabIndex:"0",onClick:function(){return e("/signin")}},s.a.createElement(m.a,{as:"h3"},"Moderator"),s.a.createElement("p",{className:"description"},"Someone who sends messages to the prompt screen")),s.a.createElement("button",{className:"part two",tabIndex:"0",onClick:function(){return e("/prompter")}},s.a.createElement(m.a,{as:"h3"},"Prompt Screen"),s.a.createElement("p",{className:"description"},"Shows the teleprompter screen")))},o=a(99),u=a.n(o),p=a(159),E=a(19),f=a(70),d=a.n(f),g=a(160),v={PRESET_MESSAGES:[{text:"Don't"},{text:"Talk"},{text:"About"},{text:"Bitcoin"}],SERVER_URL:""},h=d()("".concat(v.SERVER_URL)),N=function(){var e=s.a.useState([]),t=Object(E.a)(e,2),a=t[0],n=t[1],r=s.a.useState(""),c=Object(E.a)(r,2),m=c[0],i=c[1],l=s.a.useRef();return s.a.useEffect(function(){return h.on("messageReceive",function(){var e=Object(p.a)(u.a.mark(function e(t){var s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(s=a).unshift(t),n(s),0===a.length?i("No message for now"):(setTimeout(function(){l.current.classList.add("fadeIn"),i(a[a.length-1]),s.splice(a.length-1,1),n(s)},4e3*a.length),a.length>1&&setTimeout(function(){l.current.classList.remove("fadeIn")},3900*a.length));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),function(){h.disconnect()}},[a]),s.a.createElement("div",{className:"prompter-container"},m.username&&s.a.createElement("div",{className:"sender-name-container"},s.a.createElement("div",{className:"sender-name"},s.a.createElement("p",null,m.username))),s.a.createElement("div",{id:"message-textfit",className:"animated",ref:l},s.a.createElement(g.Textfit,{mode:(m.message,"multi"),style:{height:"90vh",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1",width:"90%",margin:"auto"},max:200},m.message?m.message:"No Message")))},S=a(362),b=a(355),w=a(100),y=a(161),x=a.n(y),j=d()("".concat(v.SERVER_URL)),k=function(){var e=s.a.useState(!1),t=Object(E.a)(e,2),a=t[0],n=t[1],r=s.a.useState(""),c=Object(E.a)(r,2),l=c[0],o=c[1],u=s.a.useState([]),p=Object(E.a)(u,2),f=p[0],d=p[1],g=s.a.useState(v.PRESET_MESSAGES),h=Object(E.a)(g,1)[0],N=s.a.useState(!1),y=Object(E.a)(N,2),k=y[0],R=y[1],O=s.a.useRef();s.a.useEffect(function(){localStorage.getItem("username")||Object(i.b)("/")},[]);return s.a.createElement("div",{className:"savior-container"},s.a.createElement("form",{className:"message-container",onSubmit:function(e){e.preventDefault();var t={username:localStorage.getItem("username"),message:l,timestamp:Date.now()},a=f;j.emit("message",t),o(""),a.unshift(t),d(a),setTimeout(function(){R(!1),o("")},3e3)}},s.a.createElement(S.a,{ref:O,type:"text",placeholder:"Type your message here...",className:"message-input",value:l,onChange:function(e){o(e.target.value),a&&n(!1)},disabled:k,maxLength:"140",rows:"5"}),s.a.createElement("div",{className:"preset-messages"},h.map(function(e,t){return s.a.createElement(b.a,{key:t,content:e.text,className:"preset-message",onClick:function(){return t=e.text,O.current.focus(),O.current.ref.current.value=l+t+" ",void o(l+t+" ");var t},type:"button"})})),s.a.createElement("div",{className:"message-footer"},s.a.createElement("div",{className:"left"},s.a.createElement("p",{className:"chars_left"},l.length," / 140"),s.a.createElement(w.a,{emoji:{id:"slightly_smiling_face",skin:4},size:24,native:!0,onClick:function(){n(!a)}})),s.a.createElement("div",{className:"right"},s.a.createElement(b.a,{content:"Send",disabled:!l.length,primary:!0}))),a&&s.a.createElement("div",{className:"emoji-picker"},s.a.createElement(w.b,{set:"emojione",showPreview:!1,title:"",showSkinTones:!1,emoji:"",color:"#313131",onClick:function(e){o(l+e.native),O.current.focus()},native:!0}))),s.a.createElement("div",{className:"message-history"},s.a.createElement(m.a,{as:"h4",content:"History"}),s.a.createElement("div",{className:"history-box"},s.a.createElement("ul",null,f.map(function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("p",null,e.message),s.a.createElement("span",null,x()(e.timestamp).fromNow()))})))))},R=a(363),O=a(162),T=a.n(O),I=function(){var e=s.a.useState(""),t=Object(E.a)(e,2),a=t[0],n=t[1],r=s.a.useState(""),c=Object(E.a)(r,2),l=c[0],o=c[1];function u(e){"username"!==e.target.name?n(e.target.value):o(e.target.value)}return s.a.createElement("div",{className:"signin-container"},s.a.createElement("div",{className:"form-container"},s.a.createElement("div",null,s.a.createElement("img",{src:"https://media.giphy.com/media/KAq7hfwvKFZnoip8TO/200w_d.gif",alt:"savior-gif"}),s.a.createElement(m.a,{as:"h4",content:"Sign in first",style:{marginTop:0,marginBottom:"1em"},textAlign:"center"})),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),T.a.post("".concat(v.SERVER_URL,"/auth"),{},{auth:{username:l,password:a}}).then(function(e){e.data.success&&(localStorage.setItem("username",e.data.username),Object(i.b)("/savior"))})}},s.a.createElement("div",{className:"form-item"},s.a.createElement(R.a,{placeholder:"Username",name:"username",type:"text",value:l,className:"savior-input",onChange:u})),s.a.createElement("div",{className:"form-item"},s.a.createElement(R.a,{placeholder:"Password",name:"password",type:"password",value:a,className:"savior-input",onChange:u})),s.a.createElement("div",{className:"form-item"},s.a.createElement(b.a,{content:"Sign In",fluid:!0,type:"submit"})))))};var _=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(i.a,null,s.a.createElement(l,{path:"/"}),s.a.createElement(N,{path:"/prompter"}),s.a.createElement(k,{path:"/savior"}),s.a.createElement(I,{path:"/signin"})))};c.a.render(s.a.createElement(_,null),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.f709037d.chunk.js.map