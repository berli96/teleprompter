(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,a){e.exports=a(354)},178:function(e,t,a){},322:function(e,t){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),c=a.n(s),l=(a(178),a(179),a(364)),m=a(21),o=function(){var e=function(e){localStorage.setItem("role",e),Object(m.b)("/signin")};return r.a.createElement("div",{className:"pick-one"},r.a.createElement(l.a,{as:"h4",className:"pick-header"},r.a.createElement("span",null,"Pick your side!")),r.a.createElement("button",{className:"part one",tabIndex:"0",onClick:function(){return e("moderator")}},r.a.createElement(l.a,{as:"h3"},"Moderator"),r.a.createElement("p",{className:"description"},"Someone who sends messages to the prompt screen")),r.a.createElement("button",{className:"part two",tabIndex:"0",onClick:function(){return e("prompt")}},r.a.createElement(l.a,{as:"h3"},"Prompt Screen"),r.a.createElement("p",{className:"description"},"Shows the teleprompter screen")))},i=a(100),u=a.n(i),d=a(159),E=a(19),p=a(70),f=a.n(p),g=a(160),v=a(29),h={PRESET_MESSAGES:[{text:"Stop talking about Bitcoin"},{text:"Stop talking about Ethereum"},{text:"Stop going off-topic"},{text:"Stop rocking back and forth"}],SERVER_URL:""},S=f()("".concat(h.SERVER_URL)),b=function(){var e=r.a.useState([]),t=Object(E.a)(e,2),a=t[0],n=t[1],s=r.a.useState(!1),c=Object(E.a)(s,2),l=c[0],o=c[1],i=r.a.useState({}),p=Object(E.a)(i,2),f=p[0],h=p[1],b=r.a.useRef(),N=r.a.useRef();r.a.useEffect(function(){localStorage.getItem("username")||Object(m.b)("/")},[]);var k=function(e){return new Promise(function(t){return setTimeout(t,e)})};r.a.useEffect(function(){return S.on("messageReceive",function(e){var t=a;t.push(e),n(t),setTimeout(Object(d.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h({message:""}),b.current.classList.remove("fadeOut"),N.current.classList.add("backgound-red"),e.next=5,k(500);case 5:N.current.classList.remove("backgound-red"),b.current.classList.add("fadeIn"),h(a[0]),n(t);case 9:case"end":return e.stop()}},e)})),1e4*(a.length-1)-1e3),setTimeout(function(){t.splice(0,1),n(t),b.current.classList.remove("fadeIn"),a.length>0&&b.current.classList.add("fadeOut")},1e4*a.length-1)}),function(){S.disconnect()}},[a]);return r.a.createElement("div",{className:"prompter-container",ref:N},r.a.createElement("div",{className:"fullscreen",onClick:function(){var e=document.documentElement;l?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),o(!1)):(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),o(!0))},title:l?"Close Fullscreen":"Fullscreen"},r.a.createElement(v.a,{name:l?"compress":"expand",color:f.username?"black":"white",size:"big"})),f.username&&r.a.createElement("div",{className:"sender-name-container"},r.a.createElement("div",{className:"sender-name"},r.a.createElement("p",null,f.username))),r.a.createElement("div",{id:"message-textfit",className:"animated",ref:b},r.a.createElement(g.Textfit,{mode:(f.message,"multi"),style:{height:"90vh",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1",width:"90%",margin:"auto"},max:200},void 0!==f.message?f.message:"No Message")))},N=a(362),k=a(355),w=a(101),x=a(161),R=a.n(x),y=f()("".concat(h.SERVER_URL)),j=function(){var e=r.a.useState(!1),t=Object(E.a)(e,2),a=t[0],n=t[1],s=r.a.useState(""),c=Object(E.a)(s,2),o=c[0],i=c[1],u=r.a.useState([]),d=Object(E.a)(u,2),p=d[0],f=d[1],g=r.a.useState(h.PRESET_MESSAGES),v=Object(E.a)(g,1)[0],S=r.a.useRef();r.a.useEffect(function(){localStorage.getItem("username")||Object(m.b)("/")},[]);return r.a.createElement("div",{className:"savior-container"},r.a.createElement("form",{className:"message-container",onSubmit:function(e){e.preventDefault();var t={username:localStorage.getItem("username"),message:o,timestamp:Date.now()},a=p;y.emit("message",t),i(""),a.unshift(t),f(a)}},r.a.createElement(N.a,{ref:S,type:"text",placeholder:"Type your message here...",className:"message-input",value:o,onChange:function(e){i(e.target.value),a&&n(!1)},maxLength:"140",rows:"5"}),r.a.createElement("div",{className:"preset-messages"},v.map(function(e,t){return r.a.createElement(k.a,{key:t,content:e.text,className:"preset-message",onClick:function(){return t=e.text,S.current.focus(),S.current.ref.current.value=o+t+" ",void i(o+t+" ");var t},type:"button"})})),r.a.createElement("div",{className:"message-footer"},r.a.createElement("div",{className:"left"},r.a.createElement("p",{className:"chars_left"},o.length," / 140"),r.a.createElement(w.a,{emoji:{id:"slightly_smiling_face",skin:4},size:24,native:!0,onClick:function(){n(!a)}})),r.a.createElement("div",{className:"right"},r.a.createElement(k.a,{content:"Send",disabled:!o.length,primary:!0}))),a&&r.a.createElement("div",{className:"emoji-picker"},r.a.createElement(w.b,{set:"emojione",showPreview:!1,title:"",showSkinTones:!1,emoji:"",color:"#313131",onClick:function(e){i(o+e.native),S.current.focus()},native:!0}))),r.a.createElement("div",{className:"message-history"},r.a.createElement(l.a,{as:"h4",content:"History"}),r.a.createElement("div",{className:"history-box"},r.a.createElement("ul",null,p.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("p",null,e.message),r.a.createElement("span",null,R()(e.timestamp).fromNow()))})))))},F=a(363),O=a(162),C=a.n(O),I=function(){var e=r.a.useState(""),t=Object(E.a)(e,2),a=t[0],n=t[1],s=r.a.useState(""),c=Object(E.a)(s,2),o=c[0],i=c[1];function u(e){"username"!==e.target.name?n(e.target.value):i(e.target.value)}return r.a.createElement("div",{className:"signin-container"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",null,r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{src:"./images/Skycoin-Cloud-BB-Vertical.png",alt:"savior-gif"})),r.a.createElement(l.a,{as:"h4",content:"Sign in first",style:{marginTop:0,marginBottom:"1em"},textAlign:"center"})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),C.a.post("".concat(h.SERVER_URL,"/auth"),{},{auth:{username:o,password:a}}).then(function(e){e.data.success&&(localStorage.setItem("username",e.data.username),"moderator"===localStorage.getItem("role")?Object(m.b)("/savior"):Object(m.b)("/prompter"))})}},r.a.createElement("div",{className:"form-item"},r.a.createElement(F.a,{placeholder:"Username",name:"username",type:"text",value:o,className:"savior-input",onChange:u})),r.a.createElement("div",{className:"form-item"},r.a.createElement(F.a,{placeholder:"Password",name:"password",type:"password",value:a,className:"savior-input",onChange:u})),r.a.createElement("div",{className:"form-item"},r.a.createElement(k.a,{content:"Sign In",fluid:!0,type:"submit"})))))};var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(o,{path:"/"}),r.a.createElement(b,{path:"/prompter"}),r.a.createElement(j,{path:"/savior"}),r.a.createElement(I,{path:"/signin"})))};c.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.7bd2b00e.chunk.js.map