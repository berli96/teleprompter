(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,a){e.exports=a(351)},176:function(e,t,a){},319:function(e,t){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(28),r=a.n(c),l=(a(176),a(177),a(361)),m=a(21),o=function(){var e=function(e){localStorage.setItem("role",e),Object(m.b)("/signin")};return s.a.createElement("div",{className:"pick-one"},s.a.createElement(l.a,{as:"h4",className:"pick-header"},s.a.createElement("span",null,"Pick your side!")),s.a.createElement("button",{className:"part one",tabIndex:"0",onClick:function(){return e("moderator")}},s.a.createElement(l.a,{as:"h3"},"Moderator"),s.a.createElement("p",{className:"description"},"Someone who sends messages to the prompt screen")),s.a.createElement("button",{className:"part two",tabIndex:"0",onClick:function(){return e("prompt")}},s.a.createElement(l.a,{as:"h3"},"Prompt Screen"),s.a.createElement("p",{className:"description"},"Shows the teleprompter screen")))},i=a(18),u=a(70),d=a.n(u),E=a(158),p=a(29),f={PRESET_MESSAGES:[{text:"Stop talking about Bitcoin"},{text:"Stop talking about Ethereum"},{text:"Stop going off-topic"},{text:"Stop rocking back and forth"}],SERVER_URL:"http://192.168.1.14:8080"},g=d()("".concat(f.SERVER_URL)),v=function(){var e=s.a.useState([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=s.a.useState(!1),r=Object(i.a)(c,2),l=r[0],o=r[1],u=s.a.useState(""),d=Object(i.a)(u,2),f=d[0],v=d[1],h=s.a.useRef(),S=s.a.useRef();s.a.useEffect(function(){localStorage.getItem("username")||Object(m.b)("/")},[]),s.a.useEffect(function(){return g.on("messageReceive",function(e){var t=a;t.push(e),n(t),setTimeout(function(){S.current.classList.remove("backgound-red"),h.current.classList.remove("fadeOut"),h.current.classList.add("fadeIn"),v(a[0]),n(t)},1e4*(a.length-1)),setTimeout(function(){t.splice(0,1),n(t),a.length&&S.current.classList.add("backgound-red"),h.current.classList.remove("fadeIn"),h.current.classList.add("fadeOut")},1e4*a.length+200)}),function(){g.disconnect()}},[a]);return s.a.createElement("div",{className:"prompter-container",ref:S},s.a.createElement("div",{className:"fullscreen",onClick:function(){console.log(a);var e=document.documentElement;l?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),o(!1)):(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),o(!0))},title:l?"Close Fullscreen":"Fullscreen"},s.a.createElement(p.a,{name:l?"compress":"expand",color:f.username?"black":"white",size:"big"})),f.username&&s.a.createElement("div",{className:"sender-name-container"},s.a.createElement("div",{className:"sender-name"},s.a.createElement("p",null,f.username))),s.a.createElement("div",{id:"message-textfit",className:"animated",ref:h},s.a.createElement(E.Textfit,{mode:(f.message,"multi"),style:{height:"90vh",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"1",width:"90%",margin:"auto"},max:200},f.message?f.message:"No Message")))},h=a(359),S=a(352),b=a(100),N=a(159),k=a.n(N),w=d()("".concat(f.SERVER_URL)),x=function(){var e=s.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=s.a.useState(""),r=Object(i.a)(c,2),o=r[0],u=r[1],d=s.a.useState([]),E=Object(i.a)(d,2),p=E[0],g=E[1],v=s.a.useState(f.PRESET_MESSAGES),N=Object(i.a)(v,1)[0],x=s.a.useState(!1),R=Object(i.a)(x,2),y=R[0],j=R[1],F=s.a.useRef();s.a.useEffect(function(){localStorage.getItem("username")||Object(m.b)("/")},[]);return s.a.createElement("div",{className:"savior-container"},s.a.createElement("form",{className:"message-container",onSubmit:function(e){e.preventDefault();var t={username:localStorage.getItem("username"),message:o,timestamp:Date.now()},a=p;w.emit("message",t),u(""),a.unshift(t),g(a),setTimeout(function(){j(!1),u("")},3e3)}},s.a.createElement(h.a,{ref:F,type:"text",placeholder:"Type your message here...",className:"message-input",value:o,onChange:function(e){u(e.target.value),a&&n(!1)},disabled:y,maxLength:"140",rows:"5"}),s.a.createElement("div",{className:"preset-messages"},N.map(function(e,t){return s.a.createElement(S.a,{key:t,content:e.text,className:"preset-message",onClick:function(){return t=e.text,F.current.focus(),F.current.ref.current.value=o+t+" ",void u(o+t+" ");var t},type:"button"})})),s.a.createElement("div",{className:"message-footer"},s.a.createElement("div",{className:"left"},s.a.createElement("p",{className:"chars_left"},o.length," / 140"),s.a.createElement(b.a,{emoji:{id:"slightly_smiling_face",skin:4},size:24,native:!0,onClick:function(){n(!a)}})),s.a.createElement("div",{className:"right"},s.a.createElement(S.a,{content:"Send",disabled:!o.length,primary:!0}))),a&&s.a.createElement("div",{className:"emoji-picker"},s.a.createElement(b.b,{set:"emojione",showPreview:!1,title:"",showSkinTones:!1,emoji:"",color:"#313131",onClick:function(e){u(o+e.native),F.current.focus()},native:!0}))),s.a.createElement("div",{className:"message-history"},s.a.createElement(l.a,{as:"h4",content:"History"}),s.a.createElement("div",{className:"history-box"},s.a.createElement("ul",null,p.map(function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("p",null,e.message),s.a.createElement("span",null,k()(e.timestamp).fromNow()))})))))},R=a(360),y=a(160),j=a.n(y),F=function(){var e=s.a.useState(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=s.a.useState(""),r=Object(i.a)(c,2),o=r[0],u=r[1];function d(e){"username"!==e.target.name?n(e.target.value):u(e.target.value)}return s.a.createElement("div",{className:"signin-container"},s.a.createElement("div",{className:"form-container"},s.a.createElement("div",null,s.a.createElement("div",{className:"logo-container"},s.a.createElement("img",{src:"./images/Skycoin-Cloud-BB-Vertical.png",alt:"savior-gif"})),s.a.createElement(l.a,{as:"h4",content:"Sign in first",style:{marginTop:0,marginBottom:"1em"},textAlign:"center"})),s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j.a.post("".concat(f.SERVER_URL,"/auth"),{},{auth:{username:o,password:a}}).then(function(e){e.data.success&&(localStorage.setItem("username",e.data.username),"moderator"===localStorage.getItem("role")?Object(m.b)("/savior"):Object(m.b)("/prompter"))})}},s.a.createElement("div",{className:"form-item"},s.a.createElement(R.a,{placeholder:"Username",name:"username",type:"text",value:o,className:"savior-input",onChange:d})),s.a.createElement("div",{className:"form-item"},s.a.createElement(R.a,{placeholder:"Password",name:"password",type:"password",value:a,className:"savior-input",onChange:d})),s.a.createElement("div",{className:"form-item"},s.a.createElement(S.a,{content:"Sign In",fluid:!0,type:"submit"})))))};var O=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(m.a,null,s.a.createElement(o,{path:"/"}),s.a.createElement(v,{path:"/prompter"}),s.a.createElement(x,{path:"/savior"}),s.a.createElement(F,{path:"/signin"})))};r.a.render(s.a.createElement(O,null),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.f2e1c579.chunk.js.map